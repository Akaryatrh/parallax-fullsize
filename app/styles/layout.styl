@import "nib"
@import 'fonts'

/*
 * Mixins
 */

blurFilter(value)
    filter blur(value)
    -webkit-filter blur(value)
    -moz-filter blur(value)
    -o-filter blur(value)
    -ms-filter blur(value)


/*
 *  LAYOUT
 */

#container
    position absolute
    width 100%
    height 100%


    section
        position relative

        // MODULE 1 (splash ad)
        &#module_1
            height 90%
            background-repeat no-repeat
            background-position center 0
            background-size cover
            overflow hidden

            .elements
                
                .accroche
                .logo
                    position absolute

                .accroche
                    top 55%
                    left 0
                    right 0
                    margin auto

                .logo
                    top 10%
                    left 5%



        // MODULE 2 (highlights gallery)
        &#module_2
            height 80%
            width 100%
            border-bottom 5px solid #ccc 
            overflow hidden
            position relative
            top 50px

            .arrows
                position absolute
                width 100%
                z-index 3
                // old safari ios support
                top -webkit-calc(50% - 35px)
                top calc(50% - 35px)

                .arrow
                    position absolute
                    width 67px
                    height 112px
                    background url('../images/arrows.png') no-repeat left top
                    left 5%
                    text-indent -9999px
                    cursor pointer

                    &:hover
                        background-position left bottom

                    &.right
                        right 5%
                        left auto
                        background-position right top

                        &:hover
                            background-position right bottom


            .centerNav
                position absolute
                bottom 1%
                width 100%
                z-index 2

                .navigation
                    margin 0
                    padding 0
                    text-align center
                    position relative
                    z-index 2

                    li
                        position relative
                        background #fff
                        border-radius 8px
                        width 8px
                        height 8px
                        display inline-block
                        margin 0 5px
                        opacity .5

                        &.active
                            opacity 1

                        &:before
                            content ""
                            position absolute
                            z-index -1
                            background rgba(0,0,0,.4)
                            border-radius 25px
                            width 16px
                            height 16px
                            left -4px
                            top -4px

            .diaporama
                height 100%
                width 15000px
                margin 0
                padding 0
                list-style none
                position relative
                z-index 1

                li
                    float left
                    height inherit
                    position relative
                    background-size cover
                    background-position top center
                    background-repeat no-repeat

                    .legend
                        position absolute
                        bottom 0
                        left 0
                        z-index 2
                        background rgba(0,0,0,.5)
                        padding 30px
                        width 100%
                        
                        a
                            text-decoration none
                            h2
                                customFont(noveBold, 2.5em, #fff)
                                text-transform uppercase
                                margin 0

                            .desc
                                customFont(merryLight, 2em, #fff)
                                margin 0



        // MODULE 3 (video)
        &#module_3
            top 50px
            position relative

            .redirect
                position absolute
                bottom 80px
                right 20px
                background rgba(0, 0, 0, .85)
                z-index 2
                opacity 0.25
                transition opacity .2s

                a
                    padding 15px
                    text-decoration none
                    display block
                    overflow auto

                    span
                        customFont(merryReg, 18px, #666, 27px)
                        float left
                        margin 0 15px 0 0
                        color #eee
                    img
                        float left

                &:hover
                    opacity 1

            video
                opacity .5
                width 100%
                height auto
                min-height 350px

                &.active
                    opacity 1



        // MODULE 4 (contents) & default rules for articles
        &.module
            
            .news
            .highlight
                float left

            .title
                customFont(noveLight, 35px, #999)
                text-transform uppercase
                margin 0 0 35px

        

            article
                width 300px
                height 270px
                position relative
                float left
                margin 0 25px 25px 0 

                h2
                    customFont(noveBook, 13px, #666, 150%)
                    text-transform uppercase
                    top 210px
                    position absolute
                    margin 0

                    strong
                        customFont(noveBold, 13px, #666, 150%)




                .imgContainer
                    position relative
                    border-top 1px solid #ccc
                    border-bottom 2px solid #ccc
                    width inherit
                    position relative

                    img
                        display block
                        width 100%
                        height auto
                    
                    .desc
                        position absolute
                        opacity 0
                        left -99999px
                        transition opacity 0.2s

                &:hover
                    cursor pointer

                    .imgContainer
                        .desc
                            width 100%
                            height 100%
                            background rgba(0,0,0,.9)
                            top 0
                            left 0
                            padding 20px
                            font 13px/150% Arial, sans-serif
                            color #ddd
                            margin 0
                            position absolute
                            overflow hidden
                            opacity 1

                            &:after
                                position absolute
                                bottom 0
                                left 0
                                height 25%
                                width 100%
                                content ""
                                background linear-gradient(top, rgba(0,0,0,0), #000)


            /* News frame */
            .news
                width 70%

            /* Shopping frame */
            &#module_4
                
                padding 50px 5% 0
                border-bottom 5px solid #ddd
                background #f3f3f3
                overflow auto

                .highlight
                    width 30%

                    .title
                        color #53A8C0

                    article
                        width 357px
                        height 535px
                        margin 0

                        h2
                            top 490px

                        .imgContainer
                            height 480px
                            position relative
                            border-top 1px solid #ccc
                            border-bottom 2px solid #ccc
                            padding 8px
                            background #fff
                            overflow hidden

                            .gallery
                                height inherit
                                width 1500px
                                position relative

                                img
                                    position relative
                                    width 341px
                                    float left
                                    margin 0 15px 0 0


                


        // MODULE 5 (universe)
        &#module_5
            height 80%
            min-height 800px
            background #000
            overflow hidden

            .univers
                height 100%
                background-repeat no-repeat
                background-position center
                width 955px
                margin 0 auto
                opacity 0


                .elements
                    width inherit
                    position relative
                    height 100%

                    .logo
                        margin auto
                        position absolute
                        top 7%
                        left 0
                        right 0
                        opacity 0
                        transition opacity .5s

                        &.show
                            opacity 1

                    .decoration
                        position absolute
                        right -15px
                        opacity 0
                        transition opacity .5s

                        &.show
                            opacity 1

                    .boxLeft
                    .boxRight
                        position absolute
                        height 490px
                        transition width .5s, height .5s
                        z-index 2


                        &.collapsed
                            width 188px
                            height 219px

                            .toggleBox:before
                                    content "+"
                            

                        .cropper
                            height 100%
                            width 100%
                            overflow hidden
                            position relative

                            .leftSide
                            .rightSide
                                position absolute

                                .legend
                                    left 0
                                    right 0
                                    margin auto
                                    position absolute
                                .product
                                    position absolute
                                    top 65px

                                p
                                    margin 0

                        .legend
                            position absolute

                        .toggleBox
                            border none
                            position absolute
                            right 0
                            bottom 0
                            width 45px
                            height 45px
                            outline none
                            

                            &:before
                                position absolute
                                content "-"
                                width 45px
                                height 45px
                                left 0
                                top 0
                                customFont(noveMedium, 40px, #aaa, 45px)
                                


                    .boxLeft
                        background #262425
                        width 430px
                        padding 12px

                        &."collapsed"
                            height 281px

                        .cropper
                            background #000

                            .leftSide
                                width 165px
                                height 100%

                                .legend
                                    top 30px

                            .rightSide
                                left 200px
                                bottom 50px
                                width 180px

                                p
                                    customFont(Arial, 0.74em, #ccc, 120%)

                        .toggleBox:before
                                background #262425




                    .boxRight
                        
                        width 400px
                        overflow hidden
                        right 0

                        .cropper
                            background #fff

                            .leftSide
                                width 188px
                                height 100%

                                .legend
                                    top 70px

                                .product
                                    top 220px


                            .rightSide
                                left 200px
                                bottom 50px
                                width 180px

                                p
                                    customFont(Arial, 0.74em, #000, 120%)

                        .toggleBox:before
                                background #959595
                                color #fff

                    .boxCenter
                        position absolute
                        left 0
                        right 0
                        top 0
                        bottom 0
                        margin auto
                        height 570px
                        width 155px

                        img
                            opacity 0
                            transition opacity .5s, top .5s
                            position relative

                            &.show
                                opacity 1



        // MODULE 6 (contents)
        &#module_6
            
            padding 50px 5% 0
            border-bottom 5px solid #ddd
            background #f3f3f3
            overflow auto

            .news
                width 75%
                article
                    width 200px
                    height 220px

                    h2
                        top 150px

            .highlight
                width 25%

                .title
                    color #DB559A

                ul
                    list-style none
                    margin 0
                    padding 0

                    li
                        overflow auto
                        margin 0 0 15px 0

                        img
                            width 54px
                            height 54px
                            float left
                            padding 3px
                            border 1px solid #ccc
                            border-bottom 2px solid #ccc

                        h3
                            customFont(noveBook, 13px, #666, 150%)
                            margin 0 0 0 10px
                            float left
                            width -webkit-calc(100% - 65px)
                            width calc(100% - 65px)
                            position relative
                            top -3px
                            text-transform uppercase

                            strong
                                customFont(noveBold, 13px, #666, 150%)


        // MODULE 7 (photoGrid)
        &#module_7
            height 100%
            width 100%
            background-repeat no-repeat, repeat
            background-position center
            
            .photoGrid
                width 1040px
                top 0
                left 0
                bottom 0
                right 0
                margin auto
                height 675px
                position absolute


                .lightBox
                    position fixed
                    top 0
                    left -99999px
                    width 100%
                    height 100%
                    background rgba(0,0,0,.9)
                    opacity 0
                    z-index 999
                    transition opacity .2s

                    &.active
                        left 0
                        opacity 1
                        cursor pointer

                    .imgContainer
                        text-align center
                        height 100%
                        width 100%
                        position relative

                        &.loading

                            &:before
                                content ""
                                width 50px
                                height 50px
                                margin auto
                                position absolute
                                top 0
                                left 0
                                bottom 0
                                right 0
                                z-index 1
                                border-radius 50px
                                background rgba(0,0,0,.9) url('../images/slide_7/ajax-loader.gif') no-repeat center

                            .arrows
                            .centerNav
                                opacity 0

                        img
                            margin 5% 0 0
                            max-width 80%
                            max-height 80%
                            padding 5px
                            background #eee
                            position absolute
                            top 0
                            left 0
                            right 0
                            bottom 0
                            margin auto


                        .arrows
                            position absolute
                            width 100%
                            z-index 3
                            // old safari ios support
                            top -webkit-calc(50% - 35px)
                            top calc(50% - 35px)
                            opacity 1
                            transition opacity .2s


                            .arrow
                                position absolute
                                width 67px
                                height 112px
                                background url('../images/arrows.png') no-repeat left top
                                left 15%
                                text-indent -9999px
                                cursor pointer
                                

                                &:hover
                                    background-position left bottom

                                &.right
                                    right 15%
                                    left auto
                                    background-position right top

                                    &:hover
                                        background-position right bottom


                        .centerNav
                            position absolute
                            bottom 1%
                            width 100%
                            z-index 2
                            opacity 1
                            transition opacity .2s

                            .navigation
                                margin 0
                                padding 0
                                text-align center
                                position relative
                                z-index 2

                                li
                                    position relative
                                    background #fff
                                    border-radius 8px
                                    width 8px
                                    height 8px
                                    display inline-block
                                    margin 0 5px
                                    opacity .5

                                    &.active
                                        opacity 1

                                    &:before
                                        content ""
                                        position absolute
                                        z-index -1
                                        background rgba(0,0,0,.4)
                                        border-radius 25px
                                        width 16px
                                        height 16px
                                        left -4px
                                        top -4px


                .modules
                    position relative

                    h2
                        text-indent -99999px
                        opacity 0
                        transition opacity 2s
                        height 136px
                        margin 0 0 30px 0
                        background-repeat no-repeat
                        background-position center

                        &.show
                            opacity 1


                    .block
                        float left
                        margin 0 10px 10px 0
                        box-shadow 0 0 5px rgba(0,0,0,1)
                        cursor pointer
                        opacity 0
                        transform scale(3) perspective(500px) rotateX(30deg)
                        blurFilter(10px)
                        transition all .5s

                        &.show
                            transform scale(1) perspective(500px) rotateX(0)
                            blurFilter(0)
                            opacity 1

                        img
                            display block



                                

        // MODULE 8 (slider produits)
        &#module_8
            height 80%
            overflow hidden
            position relative


            .logo
                position absolute
                top 5%
                left 0
                margin auto
                right 0
                text-indent -9999px
                background-repeat no-repeat
                background-position center
                width 155px
                height 30px
                z-index 3



            .arrows
                position absolute
                width 100%
                z-index 3
                // old safari ios support
                top -webkit-calc(50% - 35px)
                top calc(50% - 35px)

                .arrow
                    position absolute
                    width 67px
                    height 112px
                    background url('../images/arrows.png') no-repeat left top
                    left 5%
                    text-indent -9999px
                    cursor pointer

                    &:hover
                        background-position left bottom

                    &.right
                        right 5%
                        left auto
                        background-position right top

                        &:hover
                            background-position right bottom


            .centerNav
                position absolute
                bottom 1%
                width 100%
                z-index 2

                .navigation
                    margin 0
                    padding 0
                    text-align center
                    position relative
                    z-index 2

                    li
                        position relative
                        background #fff
                        border-radius 8px
                        width 8px
                        height 8px
                        display inline-block
                        margin 0 5px
                        opacity .5

                        &.active
                            opacity 1

                        &:before
                            content ""
                            position absolute
                            z-index -1
                            background rgba(0,0,0,.4)
                            border-radius 25px
                            width 16px
                            height 16px
                            left -4px
                            top -4px


            .diaporama
                height 100%
                width 15000px
                margin 0
                padding 0
                list-style none
                position relative
                z-index 1
                left 0

                li
                    height inherit
                    position relative
                    float left

                    

                    .block
                        position absolute
                        z-index 2
                        top 0
                        left 0
                        right 0
                        bottom 0
                        margin auto
                        width 586px
                        height 640px
                        background #fff
                        text-align center
                        cursor pointer

                        img
                            display block
                            margin auto

                            &:nth-child(1)
                                margin 65px auto 10px
                                max-height 60%


                .movingElements
                    position absolute
                    width 100%
                    height 100%
                    top 0

                    img
                        position absolute

                        &:nth-child(1)
                            left 50%

                        &:nth-child(2)
                            left 5%

                        &:nth-child(3)
                            left 75%

                        &:nth-child(4)
                            left 15%

                        &:nth-child(5)
                            left 65%

/*
 * Responsive rules
 */

/* from 480px to 1499px */
@media screen and (min-width: 480px) and (max-width: 1499px)

    #container
        #module_4.module

            .news
                
                article
                    width 240px
                    height 220px
                        

                    h2
                        top 170px

            







